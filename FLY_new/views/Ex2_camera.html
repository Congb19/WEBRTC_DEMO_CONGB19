<!DOCTYPE html>
<html lang="en">
<head>
    <title>TEST</title>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href=''>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Cache-Control" content="no-store"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <!--IOS设备上禁止将数字识别为可点击的tel link-->
    <meta content="telephone=no" name="format-detection">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" type="text/css" href='../static/css/common.css'>
    <link rel="stylesheet" type="text/css" href='../static/css/view-default.css'>
    <link rel="stylesheet" type="text/css" href="../static/_public/flatpickr.min.css"/>
    <!--[if lt IE 9]>
    <script src="../static/_public/html5.js"></script>
    <![endif]-->
</head>
<body>
<div class="card-space card-space2"  style="overflow:hidden">
    <img src="../static/images/tab/video.png" height="598" width="852"/>
    <video id="video" autoplay style="position: absolute; left: 50px; top: 50px;"></video>
</div>
<script type='text/javascript' src='../static/_public/jquery-2.1.1.min.js' charset='utf-8'></script>
<script type='text/javascript' src='../static/js/common.js' charset='utf-8'></script>
<script type='text/javascript' src='../static/js/view-default.js' charset='utf-8'></script>
<script type="text/javascript">
    $(function(){
        module.messageCallBack.getInfo = function(){
            console.log(this);
        }
    });
    var constraints = { audio: true, video:  { width: 976, height: 488 } };

    navigator.mediaDevices.getUserMedia(constraints)
        .then(function(mediaStream) {
            var video = document.querySelector('video');
            video.srcObject = mediaStream;
            video.onloadedmetadata = function(e) {
                video.play();
            };
        })
        .catch(function(err) { console.log(err.name + ": " + err.message); }); // 总是在最后检查错误


</script>
</body>
</html>
